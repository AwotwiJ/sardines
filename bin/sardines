#!/usr/bin/env node

var args = process.argv.concat(),
	sardines = require('../lib');
	ops = { args: args.concat(), input: [] };
	

require('sk/node/log');

function absPath(path)
{
	return path.substr(0,1) == '/' ? path : process.cwd() + '/' + path;
};

while(args.length)
{
	var arg = args.shift();
	switch(arg)
	{
		case '-i':
		case '--input':
			ops.input.unshift(absPath(args.shift()));
		break;
		case '-o':
		case '--output':
			ops.output = absPath(args.shift());
		break;
		case '-n':
		case '--name':
			ops.name = args.shift();
		break;
		case '-p':
		case '--pretty':
			ops.pretty = true;
		break;
	}
}


sardines.package(ops, function()
{
})